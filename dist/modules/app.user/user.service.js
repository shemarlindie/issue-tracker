!function(e){"use strict";e.module("app.user").factory("UserService",["AppConfig","SecurityService","$http","$q","FileUploader",function(e,t,r,n,u){var o=e.API_URI,s={get:function(e){return r.get(o+"/auth/users/"+e+"/")},all:function(e){return r.get(o+"/auth/users/?"+$.param(e))},create:function(e){return r.post(o+"/auth/users/",e)},update:function(e){return r.patch(o+"/auth/users/"+e.id+"/",e)},"delete":function(e){return r["delete"](o+"/auth/users/"+e.id+"/")},search:function(e,t){return t instanceof Array?(e=e.toLowerCase(),n.when({data:{list:t.filter(function(t){var r=(t.full_name+t.username+t.email).toLowerCase();return r.indexOf(e)>=0})}})):r.get(o+"/auth/users/?search="+encodeURIComponent(e))},updateProfile:function(e){return r.post(o+"/auth/users/profile/",e)},changePassword:function(e,t){return r.post(o+"/auth/users/"+e.id+"/change-password/",t)},forgotPassword:function(e){return r.post(o+"/auth/users/forgot-password/",e)},resetPassword:function(e){return r.post(o+"/auth/users/reset-password/",e)},activateAccount:function(e){return r.post(o+"/auth/users/activate-account/",e)},checkname:function(e){return r.get(o+"/auth/users/check-username/"+encodeURIComponent(e))},getPhotoUploadUrl:function(e){return o+"/photos/user/"+e.id+"/"},getPhotoUploader:function(e){var r=new u({url:s.getPhotoUploadUrl(e),removeAfterUpload:!0,queueLimit:1,withCredentials:!0,headers:{Authorization:"Bearer "+t.getToken()}});return r.filters.push({name:"imageFilter",fn:function(e,t){var r="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(r)!==-1}}),r},removePhoto:function(e){return r["delete"](o+"/photos/user/"+e.id+"/")}};return s}])}(angular);
//# sourceMappingURL=../sourcemaps/app.user/user.service.js.map

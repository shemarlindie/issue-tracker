!function(e){"use strict";e.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,s){e.state("app",{url:"/",templateUrl:"modules/app/views/app.layout.html","abstract":!0,resolve:{auth:["SecurityService",function(e){return e.refreshUser()}]},data:{hasSidenav:!0,permissions:{except:["anonymous"],redirectTo:"login"}}}).state("app.home",{url:"^/projects",views:{"page@app":{templateUrl:"modules/app.project/views/projects.html"}}}).state("app.projects",{url:"^/projects",views:{"page@app":{templateUrl:"modules/app.project/views/projects.html"}}}).state("app.project-detail",{url:"^/project/{id:[0-9]+}",views:{"page@app":{templateUrl:"modules/app.project/views/project.detail.html"}}}).state("app.project-edit",{url:"^/project/{id:[0-9]+}/edit",views:{"page@app":{templateUrl:"modules/app.project/views/project.edit.html"}}}).state("app.project-create",{url:"^/project/create",views:{"page@app":{templateUrl:"modules/app.project/views/project.edit.html"}}}).state("app.issue-detail",{url:"^/issue/{id:[0-9]+}",views:{"page@app":{templateUrl:"modules/app.issue/views/issue.detail.html"}}}).state("app.issue-edit",{url:"^/issue/{id:[0-9]+}/edit",views:{"page@app":{templateUrl:"modules/app.issue/views/issue.edit.html"}}}).state("app.issue-create",{url:"^/issue/create?project",views:{"page@app":{templateUrl:"modules/app.issue/views/issue.edit.html"}}}).state("signup",{url:"/signup",templateUrl:"modules/app.user/views/signup.html",data:{permissions:{only:["anonymous"]}}}).state("login",{url:"/login?redirect",templateUrl:"modules/app.user/views/login.html",data:{permissions:{only:["anonymous"]}}}).state("password-reset",{url:"/password-reset",templateUrl:"modules/app.user/views/password.reset.html",data:{permissions:{only:["anonymous"]}}}).state("account",{url:"/account?section",templateUrl:"modules/app.user/views/account.html",reloadOnSearch:!1,data:{hasSidenav:!0,permissions:{except:["anonymous"],redirectTo:"login"}}}),t.otherwise(function(e,t){var s=e.get("SecurityService"),a=e.get("$state");return s.isAuthenticated()?a.go("app.home"):a.go("login")})}]).config(["$httpProvider",function(e){e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache"}]).run(["$rootScope","SecurityService","$state",function(e,t,s){e.$on("$stateChangeStart",function(e,a,r,p,i,o){var l=a.data?a.data.permissions:void 0;if(l)if(l.only){for(var u=!1,n=0;n<l.only.length;n++)if(t.userHasPermission(l.only[n])){u=!0;break}if(!u){var c=l.redirectTo||"login";e.preventDefault(),s.go(c)}}else if(l.except){for(var u=!0,n=0;n<l.except.length;n++)if(t.userHasPermission(l.except[n])){u=!1;break}if(!u){var c=l.redirectTo||"login";e.preventDefault(),s.go(c)}}else if(l.specific){var u=t.userTypeIs(l.specific);if(!u){var c=l.redirectTo||"login";e.preventDefault(),s.go(c)}}})}])}(angular);
//# sourceMappingURL=../sourcemaps/app/app.config.router.js.map

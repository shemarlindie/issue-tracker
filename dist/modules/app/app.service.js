!function(e){"use strict";e.module("app").factory("AppConfig",function(){var e={API_URI:"https://django-api.shemarlindie.com/api",UPDATE_INTERVAL:1e4};return e}).factory("SecurityService",["AppConfig","$rootScope","$http","$q","store",function(e,t,r,n,s){var u=e.API_URI,o={isAuthenticated:function(){return!!o.getToken()},login:function(e){var t={Authorization:"Basic "+btoa(e.username+":"+e.password)};return r.post(u+"/auth/login/",e,{headers:t}).then(function(e){return o.setAuthData(e.data),e})},logout:function(){return r.post(u+"/auth/logout/",{})["finally"](function(){o.clearUserData()})},setAuthData:function(e){o.setToken(e.token),o.setUser(e.user)},authCheck:function(){return r.get(u+"/auth/check/",{}).then(function(e){return o.setUser(e.data),e})["catch"](function(e){401==e.status&&o.clearUserData()})},refreshUser:function(){return o.authCheck()},getToken:function(){return s.get("token")},setToken:function(e){s.set("token",e)},getUser:function(){return s.get("user")},setUser:function(e){s.set("user",e),o.loadUser()},clearUserData:function(){s.remove("token"),s.remove("user"),t.user=void 0},loadUser:function(){t.user=o.getUser()},userHasPermission:function(e,t){if(t=t||o.getUser(),!t&&"anonymous"===e)return!0;if(!t)return!1;var r=!1;switch(e){case"superadmin":r=t.is_superuser;break;case"staff":r=t.is_staff}return r},userTypeIs:function(e){var t=o.getUser();return!!t&&("superadmin"==e?t.is_super_user:"staff"!=e||t.is_staff)}};return o}])}(angular);
//# sourceMappingURL=../sourcemaps/app/app.service.js.map
